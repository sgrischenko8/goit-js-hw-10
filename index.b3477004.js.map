{"mappings":"YAAA,IAAMA,EACJ,wECEF,IAAMC,EAASC,SAASC,cAAc,WAChCC,EAAOF,SAASC,cAAc,aAC9BE,EAASH,SAASC,cAAc,iBACtCE,EAAOC,UAAUC,IAAI,UACrB,IDDQC,ECCFC,EAAeP,SAASC,cAAc,UAe5C,SAASO,EAAuBC,GAC9B,IAAMC,EAASD,EACZE,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAIF,EAAJE,KACV,MAAO,kBAAyBC,OAAPF,EAAG,MAASE,OAALD,EAAK,Y,IAEtCE,KAAK,IACRb,EAAOc,UAAYP,EACnBP,EAAOC,UAAUc,OAAO,UACxBnB,EAAOK,UAAUC,IAAI,S,CAwBvB,SAASc,EAAkBC,GACzB,GAAqB,IAAjBA,EAAMC,OAIR,OAHAtB,EAAOK,UAAUC,IAAI,UACrBiB,QAAQC,IAAI,sCAEJrB,EAAKe,UAAa,0G,IAIvBO,GAAQ,EAARC,GAAQ,EAARC,OAAQC,E,IAAb,I,IAAKC,E,gBAAA,IAAMC,EAANC,EAAQC,MACLC,EAAMH,EAAGG,IAETC,EAAcJ,EAAGK,OAAOvB,KAAI,SAAAC,G,IAAGuB,EAAWvB,EAAXuB,YAAaC,EAAWxB,EAAXwB,YAAatB,EAAIF,EAAJE,KAC7D,MAAO,uCAAoDC,OAAbD,EAAK,UAAmGC,OAA3FiB,EAAI,yFAAsGjB,OAAfD,EAAK,YAAmDC,OAAzCoB,EAAY,+BAAyCpB,OAAZqB,EAAY,a,IAE5NlC,EAAKe,UAAYgB,C,EANdI,EAAYjB,EAAKkB,OAAAC,cAAjBf,GAAAI,EAAAS,EAAQG,QAAAC,MAARjB,GAAQ,EAAAkB,EAAAL,EAAAT,E,UAARH,GAAQ,EAARC,EAAQiB,C,aAARnB,GAAQ,MAARa,EAAQO,QAARP,EAAQO,Q,YAARnB,E,MAAAC,C,EAQL3B,EAAOK,UAAUC,IAAI,S,CA/DvBE,EAAaH,UAAUC,IAAI,WDFnBC,EAAU,CACd,YAAaR,GAER+C,MAAM,GAAe9B,OANb,sCAMU,KAAWA,OAART,IACzBwC,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAEjBC,OAAM,SAAAC,GACL/B,QAAQC,IAAI8B,E,KCJbP,KAAKtC,GACL4C,OAAM,SAAAC,GAGL,OAFA9C,EAAaH,UAAUc,OAAO,UAC9BnB,EAAOK,UAAUC,IAAI,UACdgD,C,IAiBblD,EAAOmD,iBAAiB,UAExB,SAAiBC,GACfrD,EAAKe,UAAY,GACjBlB,EAAOK,UAAUc,OAAO,UACxBX,EAAaH,UAAUC,IAAI,UAKImD,EAJbD,EAAME,OAAO1B,ODjBR2B,ECsBPF,EDrBTX,MACL,wDAA2E9B,OAAnB2C,EAAQ,aAAe3C,OAAJjB,IAE1EgD,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAEjBC,OAAM,SAAAC,GACL/B,QAAQC,IAAI8B,E,KCYbP,KAAK3B,GACLiC,OAAM,SAAAC,GAGL,OAFA9C,EAAaH,UAAUc,OAAO,UAC9BnB,EAAOK,UAAUC,IAAI,UACdgD,C,ID3Bb,IAAyBK,ECqBzB,IAAiCF,C","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const API =\n  'live_n3UYEOgHq1vulPu4bhOr8XCLL7jQR50Uo632WcRjJ8pnjA6EZHNLsozH2JROaIOA';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1/breeds';\n\nfunction fetchBreeds() {\n  const paramse = {\n    'x-api-key': API,\n  };\n  return fetch(`${BASE_URL}?${paramse}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nexport { fetchBreeds };\n\nfunction fetchCatByBreed(breedId) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}&api_key=${API}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nexport { fetchCatByBreed };\n","import { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\n\nconst loader = document.querySelector('.loader');\nconst info = document.querySelector('.cat-info');\nconst select = document.querySelector('.breed-select');\nselect.classList.add('hidden');\nconst errorMessage = document.querySelector('.error');\nerrorMessage.classList.add('hidden');\n\n// Creating starting markup for selector\nfunction renderStartingMarkup() {\n  fetchBreeds()\n    .then(renderListOfCatsMarkup)\n    .catch(error => {\n      errorMessage.classList.remove('hidden');\n      loader.classList.add('hidden');\n      return error;\n    });\n}\nrenderStartingMarkup();\n\nfunction renderListOfCatsMarkup(cats) {\n  const markup = cats\n    .map(({ id, name }) => {\n      return `<option value=\"${id}\">${name}</option>`;\n    })\n    .join('');\n  select.innerHTML = markup;\n  select.classList.remove('hidden');\n  loader.classList.add('hidden');\n}\n\n// Creating markup for chosen cat\nselect.addEventListener('change', handler);\n\nfunction handler(event) {\n  info.innerHTML = '';\n  loader.classList.remove('hidden');\n  errorMessage.classList.add('hidden');\n  const nameOfCat = event.target.value;\n  renderSelectedCatMarkup(nameOfCat);\n}\n\nfunction renderSelectedCatMarkup(cat) {\n  fetchCatByBreed(cat)\n    .then(renderDescrMarkup)\n    .catch(error => {\n      errorMessage.classList.remove('hidden');\n      loader.classList.add('hidden');\n      return error;\n    });\n}\n\nfunction renderDescrMarkup(descr) {\n  if (descr.length === 0) {\n    loader.classList.add('hidden');\n    console.log('Response from server have no data!');\n\n    return (info.innerHTML = `<p class=\"error\">\n        Sorry, this page not yet filled. Best people are working on that\n      </p>`);\n  }\n  for (const el of descr) {\n    const url = el.url;\n\n    const descrMarkup = el.breeds.map(({ description, temperament, name }) => {\n      return `<div class=\"img-container\"><img alt=${name} src=\"${url}\" height=\"300\"/></div><div class=\"descr-container\"><h2 class=\"descr-container-title\">${name}</h2><p>${description}</p><p><b>Temperament: </b>${temperament}</p></div>`;\n    });\n    info.innerHTML = descrMarkup;\n  }\n  loader.classList.add('hidden');\n}\n"],"names":["$ae0c329fb0fb36dc$var$API","$b8f9b7833fa37166$var$loader","document","querySelector","$b8f9b7833fa37166$var$info","$b8f9b7833fa37166$var$select","classList","add","paramse","$b8f9b7833fa37166$var$errorMessage","$b8f9b7833fa37166$var$renderListOfCatsMarkup","cats","markup","map","param","id","name","concat","join","innerHTML","remove","$b8f9b7833fa37166$var$renderDescrMarkup","descr","length","console","log","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step1","el","_step","value","url","descrMarkup","breeds","description","temperament","_iterator","Symbol","iterator","next","done","_loop","err","return","fetch","then","response","ok","Error","status","json","catch","error","addEventListener","event","cat","target","breedId"],"version":3,"file":"index.b3477004.js.map"}