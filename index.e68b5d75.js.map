{"mappings":"AAGA,MAAMA,EAASC,SAASC,cAAc,WAChCC,EAAOF,SAASC,cAAc,aAC9BE,EAASH,SAASC,cAAc,iBACtCE,EAAOC,UAAUC,IAAI,UACrB,MAAMC,EAAeN,SAASC,cAAc,UAe5C,SAASM,EAAuBC,GAC9B,MAAMC,EAASD,EACZE,KAAI,EAACC,GAAEA,EAAEC,KAAEA,KACH,kBAAkBD,MAAOC,eAEjCC,KAAK,IACRV,EAAOW,UAAYL,EACnBN,EAAOC,UAAUW,OAAO,UACxBhB,EAAOK,UAAUC,IAAI,S,CAwBvB,SAASW,EAAkBC,GACzB,GAAqB,IAAjBA,EAAMC,OAIR,OAHAnB,EAAOK,UAAUC,IAAI,UACrBc,QAAQC,IAAI,sCAEJlB,EAAKY,UAAY,0GAI3B,IAAK,MAAMO,KAAMJ,EAAO,CACtB,MAAMK,EAAMD,EAAGC,IAETC,EAAcF,EAAGG,OAAOd,KAAI,EAACe,YAAEA,EAAWC,YAAEA,EAAWd,KAAEA,KACtD,uCAAuCA,UAAaU,yFAA2FV,YAAea,+BAAyCC,gBAEhNxB,EAAKY,UAAYS,C,CAEnBxB,EAAOK,UAAUC,IAAI,S,CA/DvBC,EAAaF,UAAUC,IAAI,UCClBsB,MAAM,uCAHG,CACd,YANF,4EASGC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBC,OAAMC,IACLhB,QAAQC,IAAIe,EAAM,IDJnBP,KAAKrB,GACL2B,OAAMC,IACL7B,EAAaF,UAAUW,OAAO,UAC9BhB,EAAOK,UAAUC,IAAI,UACd8B,KAiBbhC,EAAOiC,iBAAiB,UAExB,SAAiBC,GACfnC,EAAKY,UAAY,GACjBf,EAAOK,UAAUW,OAAO,UACxBT,EAAaF,UAAUC,IAAI,UAKIiC,EAJbD,EAAME,OAAOC,OCjBRC,EDsBPH,ECrBTX,MACL,wDAAwDc,mFAEvDb,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBC,OAAMC,IACLhB,QAAQC,IAAIe,EAAM,KDYnBP,KAAKZ,GACLkB,OAAMC,IACL7B,EAAaF,UAAUW,OAAO,UAC9BhB,EAAOK,UAAUC,IAAI,UACd8B,KC3Bb,IAAyBM,EDqBzB,IAAiCH,C","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\n\nconst loader = document.querySelector('.loader');\nconst info = document.querySelector('.cat-info');\nconst select = document.querySelector('.breed-select');\nselect.classList.add('hidden');\nconst errorMessage = document.querySelector('.error');\nerrorMessage.classList.add('hidden');\n\n// Creating starting markup for selector\nfunction renderStartingMarkup() {\n  fetchBreeds()\n    .then(renderListOfCatsMarkup)\n    .catch(error => {\n      errorMessage.classList.remove('hidden');\n      loader.classList.add('hidden');\n      return error;\n    });\n}\nrenderStartingMarkup();\n\nfunction renderListOfCatsMarkup(cats) {\n  const markup = cats\n    .map(({ id, name }) => {\n      return `<option value=\"${id}\">${name}</option>`;\n    })\n    .join('');\n  select.innerHTML = markup;\n  select.classList.remove('hidden');\n  loader.classList.add('hidden');\n}\n\n// Creating markup for chosen cat\nselect.addEventListener('change', handler);\n\nfunction handler(event) {\n  info.innerHTML = '';\n  loader.classList.remove('hidden');\n  errorMessage.classList.add('hidden');\n  const nameOfCat = event.target.value;\n  renderSelectedCatMarkup(nameOfCat);\n}\n\nfunction renderSelectedCatMarkup(cat) {\n  fetchCatByBreed(cat)\n    .then(renderDescrMarkup)\n    .catch(error => {\n      errorMessage.classList.remove('hidden');\n      loader.classList.add('hidden');\n      return error;\n    });\n}\n\nfunction renderDescrMarkup(descr) {\n  if (descr.length === 0) {\n    loader.classList.add('hidden');\n    console.log('Response from server have no data!');\n\n    return (info.innerHTML = `<p class=\"error\">\n        Sorry, this page not yet filled. Best people are working on that\n      </p>`);\n  }\n  for (const el of descr) {\n    const url = el.url;\n\n    const descrMarkup = el.breeds.map(({ description, temperament, name }) => {\n      return `<div class=\"img-container\"><img alt=${name} src=\"${url}\" height=\"300\"/></div><div class=\"descr-container\"><h2 class=\"descr-container-title\">${name}</h2><p>${description}</p><p><b>Temperament: </b>${temperament}</p></div>`;\n    });\n    info.innerHTML = descrMarkup;\n  }\n  loader.classList.add('hidden');\n}\n","const API =\n  'live_n3UYEOgHq1vulPu4bhOr8XCLL7jQR50Uo632WcRjJ8pnjA6EZHNLsozH2JROaIOA';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1/breeds';\n\nfunction fetchBreeds() {\n  const paramse = {\n    'x-api-key': API,\n  };\n  return fetch(`${BASE_URL}?${paramse}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nexport { fetchBreeds };\n\nfunction fetchCatByBreed(breedId) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}&api_key=${API}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nexport { fetchCatByBreed };\n"],"names":["$1f0dc3b9307be026$var$loader","document","querySelector","$1f0dc3b9307be026$var$info","$1f0dc3b9307be026$var$select","classList","add","$1f0dc3b9307be026$var$errorMessage","$1f0dc3b9307be026$var$renderListOfCatsMarkup","cats","markup","map","id","name","join","innerHTML","remove","$1f0dc3b9307be026$var$renderDescrMarkup","descr","length","console","log","el","url","descrMarkup","breeds","description","temperament","fetch","then","response","ok","Error","status","json","catch","error","addEventListener","event","cat","target","value","breedId"],"version":3,"file":"index.e68b5d75.js.map"}