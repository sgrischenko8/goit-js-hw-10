{"mappings":"AAGA,MAAMA,EAASC,SAASC,cAAc,WAChCC,EAAOF,SAASC,cAAc,aAC9BE,EAASH,SAASC,cAAc,iBACtCE,EAAOC,UAAUC,IAAI,UACrB,MAAMC,EAAeN,SAASC,cAAc,UAe5C,SAASM,EAAuBC,GAC9B,MAAMC,EAASD,EACZE,KAAI,EAACC,GAAEA,EAAEC,KAAEA,KACH,kBAAkBD,MAAOC,eAEjCC,KAAK,IACRV,EAAOW,UAAYL,EACnBN,EAAOC,UAAUW,OAAO,UACxBhB,EAAOK,UAAUC,IAAI,S,CAcvB,SAASW,EAAwBC,GCrBjC,IAAyBC,KDsBPD,ECrBTE,MACL,wDAAwDD,mFAEvDE,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBC,OAAMC,IACLC,QAAQC,IAAIF,EAAM,KDYnBP,KAAKU,GACLJ,OAAMC,IACLrB,EAAaF,UAAUW,OAAO,UAC9BhB,EAAOK,UAAUC,IAAI,UACdsB,I,CAIb,SAASG,EAAkBC,GACzB,IAAK,MAAMC,KAAMD,EAAO,CACtB,MAAME,EAAMD,EAAGC,IAETC,EAAcF,EAAGG,OAAOzB,KAAI,EAAC0B,YAAEA,EAAWC,YAAEA,EAAWzB,KAAEA,KACtD,uCAAuCA,UAAaqB,yFAA2FrB,YAAewB,+BAAyCC,gBAEhNnC,EAAKY,UAAYoB,C,CAEnBnC,EAAOK,UAAUC,IAAI,S,CAvDvBC,EAAaF,UAAUC,IAAI,UCClBc,MAAM,uCAHG,CACd,YANF,4EASGC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBC,OAAMC,IACLC,QAAQC,IAAIF,EAAM,IDJnBP,KAAKb,GACLmB,OAAMC,IACLrB,EAAaF,UAAUW,OAAO,UAC9BhB,EAAOK,UAAUC,IAAI,UACdsB,KAiBbxB,EAAOmC,iBAAiB,UAExB,SAAiBC,GACfrC,EAAKY,UAAY,GACjBf,EAAOK,UAAUW,OAAO,UACxBT,EAAaF,UAAUC,IAAI,UAE3BW,EADkBuB,EAAMC,OAAOC,M,IAyBjCzB","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\n\nconst loader = document.querySelector('.loader');\nconst info = document.querySelector('.cat-info');\nconst select = document.querySelector('.breed-select');\nselect.classList.add('hidden');\nconst errorMessage = document.querySelector('.error');\nerrorMessage.classList.add('hidden');\n\n// Creating starting markup for selector\nfunction renderStartingMarkup() {\n  fetchBreeds()\n    .then(renderListOfCatsMarkup)\n    .catch(error => {\n      errorMessage.classList.remove('hidden');\n      loader.classList.add('hidden');\n      return error;\n    });\n}\nrenderStartingMarkup();\n\nfunction renderListOfCatsMarkup(cats) {\n  const markup = cats\n    .map(({ id, name }) => {\n      return `<option value=\"${id}\">${name}</option>`;\n    })\n    .join('');\n  select.innerHTML = markup;\n  select.classList.remove('hidden');\n  loader.classList.add('hidden');\n}\n\n// Creating markup for chosen cat\nselect.addEventListener('change', handler);\n\nfunction handler(event) {\n  info.innerHTML = '';\n  loader.classList.remove('hidden');\n  errorMessage.classList.add('hidden');\n  const nameOfCat = event.target.value;\n  renderSelectedCatMarkup(nameOfCat);\n}\n\nfunction renderSelectedCatMarkup(cat) {\n  fetchCatByBreed(cat)\n    .then(renderDescrMarkup)\n    .catch(error => {\n      errorMessage.classList.remove('hidden');\n      loader.classList.add('hidden');\n      return error;\n    });\n}\n\nfunction renderDescrMarkup(descr) {\n  for (const el of descr) {\n    const url = el.url;\n\n    const descrMarkup = el.breeds.map(({ description, temperament, name }) => {\n      return `<div class=\"img-container\"><img alt=${name} src=\"${url}\" height=\"300\"/></div><div class=\"descr-container\"><h2 class=\"descr-container-title\">${name}</h2><p>${description}</p><p><b>Temperament: </b>${temperament}</p></div>`;\n    });\n    info.innerHTML = descrMarkup;\n  }\n  loader.classList.add('hidden');\n}\nrenderSelectedCatMarkup();\n","const API =\n  'live_n3UYEOgHq1vulPu4bhOr8XCLL7jQR50Uo632WcRjJ8pnjA6EZHNLsozH2JROaIOA';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1/breeds';\n\nfunction fetchBreeds() {\n  const paramse = {\n    'x-api-key': API,\n  };\n  return fetch(`${BASE_URL}?${paramse}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nexport { fetchBreeds };\n\nfunction fetchCatByBreed(breedId) {\n  return fetch(\n    `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}&api_key=${API}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log(error);\n    });\n}\n\nexport { fetchCatByBreed };\n"],"names":["$1f0dc3b9307be026$var$loader","document","querySelector","$1f0dc3b9307be026$var$info","$1f0dc3b9307be026$var$select","classList","add","$1f0dc3b9307be026$var$errorMessage","$1f0dc3b9307be026$var$renderListOfCatsMarkup","cats","markup","map","id","name","join","innerHTML","remove","$1f0dc3b9307be026$var$renderSelectedCatMarkup","cat","breedId","fetch","then","response","ok","Error","status","json","catch","error","console","log","$1f0dc3b9307be026$var$renderDescrMarkup","descr","el","url","descrMarkup","breeds","description","temperament","addEventListener","event","target","value"],"version":3,"file":"index.0d291f78.js.map"}